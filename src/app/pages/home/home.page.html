<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title>ðŸ§  Trivia Master</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar color="primary">
      <ion-title size="large">ðŸ§  Trivia Master</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="content-wrapper">
    <!-- Saludo y estadÃ­sticas rÃ¡pidas -->
    <ion-card class="welcome-card">
      <ion-card-header>
        <ion-card-subtitle>{{ getGreeting() }}, {{ settings?.username || 'Jugador' }}!</ion-card-subtitle>
        <ion-card-title>Â¿Listo para el desafÃ­o?</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <div class="quick-stats" *ngIf="stats">
          <div class="stat-item">
            <ion-icon name="trophy" color="warning"></ion-icon>
            <span>{{ stats.totalQuizzes }} quizzes</span>
          </div>
          <div class="stat-item">
            <ion-icon name="star" color="primary"></ion-icon>
            <span>{{ stats.averageScore | number:'1.0-0' }}% promedio</span>
          </div>
          <div class="stat-item">
            <ion-icon name="flame" color="danger"></ion-icon>
            <span>{{ stats.bestScore }}% mejor</span>
          </div>
        </div>
        <ion-button expand="block" (click)="startQuickQuiz()" data-testid="start-quiz-btn">
          <ion-icon slot="start" name="play"></ion-icon>
          Comenzar Quiz RÃ¡pido
        </ion-button>
      </ion-card-content>
    </ion-card>

    <!-- CategorÃ­as destacadas -->
    <div class="section-header">
      <h2><ion-icon name="sparkles"></ion-icon> CategorÃ­as Populares</h2>
    </div>

    <div *ngIf="isLoading" class="loading-container">
      <ion-spinner name="crescent"></ion-spinner>
      <p>Cargando categorÃ­as...</p>
    </div>

    <ion-grid *ngIf="!isLoading && featuredCategories.length > 0">
      <ion-row>
        <ion-col size="6" *ngFor="let category of featuredCategories">
          <ion-card
            class="category-card"
            button
            (click)="startCategoryQuiz(category)"
            [attr.data-testid]="'category-' + category.id">
            <ion-card-content>
              <div class="category-icon">
                <ion-icon name="rocket"></ion-icon>
              </div>
              <h3>{{ category.name }}</h3>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>

    <!-- Mensaje motivacional -->
    <ion-card class="motivation-card">
      <ion-card-content>
        <ion-icon name="heart" color="danger"></ion-icon>
        <p>Â¡Cada pregunta es una oportunidad de aprender algo nuevo!</p>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
